# MIRV-Cloud
## Azure deployment info:
Host IP: 20.221.114.229
Port: 8080
Azure url: Deployed api: https://portal.azure.com/#@neaeraconsulting.com/resource/subscriptions/94de27ba-3bee-4589-b67b-76f7575ac235/resourceGroups/JFrye_rg_Linux_centralus/providers/Microsoft.ContainerInstance/containerGroups/elated-roentgen/overview
Image url: https://hub.docker.com/repository/docker/jacob6838/mirvapidev

## docker azure deployment example
https://docs.docker.com/cloud/aci-integration/
```
docker login
docker context create aci mirvacicontext
docker build -t jacob6838/mirvapi .
docker push jacob6838/mirvapi
docker --context mirvacicontext run -p 8080:8080 jacob6838/mirvapi
```

## Auth
Token Request:
```
$response = Invoke-WebRequest 'http://localhost:8080/token' -Method "POST" -Body @{"username"="jacob"; "password"="12345"}; $response.Content
```

response:
```
{"access_token":{"access_token":"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJwYlNhZl94Y0twYmxxUHJ5V2VNSWo5cHZzS0w2VEs2Q0xPekV3TmNBYWJvIn0.eyJleHAiOjE2NTc2MDM4OTEsImlhdCI6MTY1NzYwMzU5MSwianRpIjoiNzI1YzU5YTEtOWVlOC00MzhjLThiYWYtMDY0OGY1NjQ4NWNlIiwiaXNzIjoiaHR0cDovLzIwLjIyMS4xNS42MDo4MDgwL2F1dGgvcmVhbG1zL3Z0dGkiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiM2YzMWU2OGItNTg2Yi00ZWJmLWEwY2ItZjNiNmYwYzYzZDg1IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoibWlydiIsInNlc3Npb25fc3RhdGUiOiI2MjZmZWYzMy0zYmE1LTQ2NmUtODA1Zi0zZjk1MjMxNTMwZjIiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRlZmF1bHQtcm9sZXMtdnR0aSIsIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJzaWQiOiI2MjZmZWYzMy0zYmE1LTQ2NmUtODA1Zi0zZjk1MjMxNTMwZjIiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsInByZWZlcnJlZF91c2VybmFtZSI6ImphY29iIn0.h-KxEv1JLHZsYBKsxHE9U2JGz5p884QtZB8gFx_FHKNFaSo7D6aS-sWyJ7lol7Opo0WLUrQPiYn70h2WFn4fKaBSYh9LDy5wpjPYuGD1G2LCwDGB22OzhjlqTm9MUeQ1tozos3g2W02L7QVo7HuoiUxVXhuh7it075vbsrbS4V33bw2Z6RMu8eGBPPfAriN0Tm8bsW7nUKR_UNCmu3ncJEYXe9jZiiNQhlJ5M1_8FMmC1zuHRZvOPMjZBSPCIkACREEf3RNvOXdufkSWFZF0kNCZVEg7dEwKKBUR1-yaQwClI8yYZzPYVzuIU1ZFgl9S9RU2qts-2DhcODBf2okCLw","expires_in":300,"refresh_expires_in":1800,"refresh_token":"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI2NTZlOGIxOS00NWI5LTRlN2MtYTBkNi1lZmQxMDMxMzFhMGMifQ.eyJleHAiOjE2NTc2MDUzOTEsImlhdCI6MTY1NzYwMzU5MSwianRpIjoiNTExNGIyMTEtZTcwMi00YWNlLWIxMzMtOWMzNmUwMDdlYzkwIiwiaXNzIjoiaHR0cDovLzIwLjIyMS4xNS42MDo4MDgwL2F1dGgvcmVhbG1zL3Z0dGkiLCJhdWQiOiJodHRwOi8vMjAuMjIxLjE1LjYwOjgwODAvYXV0aC9yZWFsbXMvdnR0aSIsInN1YiI6IjNmMzFlNjhiLTU4NmItNGViZi1hMGNiLWYzYjZmMGM2M2Q4NSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJtaXJ2Iiwic2Vzc2lvbl9zdGF0ZSI6IjYyNmZlZjMzLTNiYTUtNDY2ZS04MDVmLTNmOTUyMzE1MzBmMiIsInNjb3BlIjoicHJvZmlsZSBlbWFpbCIsInNpZCI6IjYyNmZlZjMzLTNiYTUtNDY2ZS04MDVmLTNmOTUyMzE1MzBmMiJ9.RWwD-UCOX5ySHNk26lBU02b3jXwLrfGHrP5XyywaJHs","token_type":"Bearer","not-before-policy":0,"session_state":"626fef33-3ba5-466e-805f-3f95231530f2","scope":"profile email"},"token_type":"bearer"}
```

/rovers request: 
```
$response = Invoke-WebRequest 'http://localhost:8080/rovers/rover_42' -Headers @{"Authorization"="Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJwYlNhZl94Y0twYmxxUHJ5V2VNSWo5cHZzS0w2VEs2Q0xPekV3TmNBYWJvIn0.eyJleHAiOjE2NTc2MDYxMTEsImlhdCI6MTY1NzYwNTgxMSwianRpIjoiODhkZmI4YmQtMTcwNy00MzMwLTg2OTAtODBhY2U4NDgxMTVhIiwiaXNzIjoiaHR0cDovLzIwLjIyMS4xNS42MDo4MDgwL2F1dGgvcmVhbG1zL3Z0dGkiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiM2YzMWU2OGItNTg2Yi00ZWJmLWEwY2ItZjNiNmYwYzYzZDg1IiwidHlwIjoiQmVhcmVyIiwiYXpwIjoibWlydiIsInNlc3Npb25fc3RhdGUiOiIyYmFlNTRkMy0wNjkwLTRhZjQtYmRmYS04NDA3YjlhYjg5ZDEiLCJhY3IiOiIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRlZmF1bHQtcm9sZXMtdnR0aSIsIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXX0sInJlc291cmNlX2FjY2VzcyI6eyJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiLCJ2aWV3LXByb2ZpbGUiXX19LCJzY29wZSI6InByb2ZpbGUgZW1haWwiLCJzaWQiOiIyYmFlNTRkMy0wNjkwLTRhZjQtYmRmYS04NDA3YjlhYjg5ZDEiLCJlbWFpbF92ZXJpZmllZCI6ZmFsc2UsInByZWZlcnJlZF91c2VybmFtZSI6ImphY29iIn0.iAGaLEBnKVmKay2qzCPD5pKyM4sJKOgHnKsf94PWo9bS34s_PniYJjBhxwO28803_inhM2dVszFZLVsZmFToW0XsbQtwGsI3WqE2RCSZrNYXnz2L79mcgMsHm_IkyIvcAm9xJ0nwGXska2QVARHQWbyiwejGdW18crb1XYExxZ6tfHUHoELAHq68s75rGP__b4n4Ca9PPlsezEvCc8pFRRI1S8WzJL2yX-wFYPqXF1OylXpSewcDpIoIwaUIlPpJuzB9OQASJD8QRJC5CPSvWsjjZWjeElXUp0b5moRFNtFAqUvBYoqQOcqSz0aX7WQhUqAtPKUouEOlCarZw7vUVA"}; $response.Content
```

response:
```
[]
```